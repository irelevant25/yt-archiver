<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YT Archiver</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0C.488 3.45.029 5.804 0 12c.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0C23.512 20.55 23.971 18.196 24 12c-.029-6.185-.484-8.549-4.385-8.816zM9 16V8l8 3.993L9 16z"/></svg>
                </div>
                <div class="logo-text">
                    <h1>YT Archiver</h1>
                    <p>Download & archive YouTube content</p>
                </div>
            </div>
            <div class="version-panel">
                <div class="version-info">
                    <span class="version-label">Current</span>
                    <span class="version-value" id="currentVersion">Loading...</span>
                </div>
                <div class="version-info">
                    <span class="version-label">Latest</span>
                    <span class="version-value" id="latestVersion">Loading...</span>
                </div>
                <button class="update-btn" id="updateBtn" disabled>
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12z"/></svg>
                    <span>Update yt-dlp</span>
                </button>
            </div>
        </header>

        <section class="download-section">
            <h2 class="section-title">
                <svg viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
                Download Video
            </h2>
            <form class="download-form" id="downloadForm">
                <div class="input-group">
                    <label for="urlInput">YouTube URL</label>
                    <input type="text" id="urlInput" class="url-input" placeholder="https://www.youtube.com/watch?v=..." required>
                </div>
                <div class="input-group format-select">
                    <label>Format</label>
                    <div class="format-options">
                        <div class="format-option">
                            <input type="radio" name="format" id="formatMp4" value="mp4" checked>
                            <label for="formatMp4">
                                <svg viewBox="0 0 24 24"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"/></svg>
                                <span>MP4</span>
                            </label>
                        </div>
                        <div class="format-option">
                            <input type="radio" name="format" id="formatMp3" value="mp3">
                            <label for="formatMp3">
                                <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
                                <span>MP3</span>
                            </label>
                        </div>
                    </div>
                </div>
                <button type="submit" class="download-btn" id="downloadBtn">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
                    <span>Download</span>
                </button>
            </form>
        </section>

        <section class="queue-section">
            <h2 class="section-title">
                <svg viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"/></svg>
                Download Queue
            </h2>
            <div id="queueContainer">
                <div class="queue-empty">
                    <svg viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
                    <p>No downloads in progress</p>
                </div>
            </div>
        </section>

        <section class="library-section">
            <div class="library-header">
                <h2 class="section-title">
                    <svg viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"/></svg>
                    Library
                </h2>
                <div class="library-filters">
                    <input type="text" class="filter-input" id="searchFilter" placeholder="Search by name...">
                    <select class="filter-select" id="typeFilter">
                        <option value="">All Types</option>
                        <option value="video">Video (MP4)</option>
                        <option value="audio">Audio (MP3)</option>
                    </select>
                </div>
            </div>
            <div id="libraryContainer">
                <table class="library-table">
                    <thead>
                        <tr>
                            <th data-sort="title">Title <span class="sort-icon">↕</span></th>
                            <th data-sort="type">Type <span class="sort-icon">↕</span></th>
                            <th data-sort="size">Size <span class="sort-icon">↕</span></th>
                            <th data-sort="created_at">Date <span class="sort-icon">↕</span></th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="libraryBody">
                    </tbody>
                </table>
            </div>
        </section>
    </div>

    <!-- Delete Modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal">
            <div class="modal-icon">
                <svg viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
            </div>
            <h3>Delete Video?</h3>
            <p>This action cannot be undone. The file will be permanently removed.</p>
            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeDeleteModal()">Cancel</button>
                <button class="modal-btn confirm" id="confirmDeleteBtn">Delete</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="/js/app.js"></script>
</body>
</html>
